<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/templates/layout.xhtml">

	<ui:define name="menu">
		<ui:include src="/includes/menu.xhtml" />
	</ui:define>
	<ui:define name="conteudo">
		<h1
			style="text-align: center; font-size: 21px; text-transform: uppercase;">Medicamentos</h1>
		<h:form>
			<p:dataTable id="tbl" var="medicamento"
				value="#{MedicamentoMB.medicamentoItens}"
				emptyMessage="Nenhum registro buscado."
				style="font-size:13px; text-align:center;" rows="10" paginator="true">
				<p:column headerText="Código">
					<h:outputText value="#{medicamento.id}" />
				</p:column>
				<p:column headerText="Nome">
					<h:outputText value="#{medicamento.nome}" />
				</p:column>
				<p:column headerText="Preço">
					<h:outputText value="R$ #{medicamento.preco}" />
				</p:column>
				<p:column headerText="Substâncias">
					<h:outputText value="#{medicamento.substrancias}" />
				</p:column>
				<p:column headerText="Peso líquido">
					<h:outputText value="#{medicamento.pesoLiquido} g" />
				</p:column>
				<p:column headerText="Quantidade">
					<h:outputText value="#{medicamento.quantidade} cx." />
				</p:column>
				<p:column headerText="Descricao de uso" width="500">
					<h:outputText value="#{medicamento.descricaoDeUsuabilidade}"/>
				</p:column>
				<p:column headerText="Data entrada">
					<h:outputText value="#{medicamento.dataEntradaUltimoEstoque}" />
				</p:column>
			</p:dataTable>
		</h:form>
		<div style=".input{margin:auto;}">
			<p:commandButton value="Cadastrar Medicamento" 
				onclick="PF('modelCadastro').show();" />
		</div>
		<p:dialog header="CADASTRO MEDICAMENTO" appendTo="@(body)" width="1000" height="700"
			resizable="false" closable="false" position="center"
			widgetVar="modelCadastro" draggable="false" modal="true">
			<h:form>
				<h:outputLabel value="Nome: " />
				<p:inputText size="60" style="margin-right:10px;" maxlength="100" required="true" value="#{MedicamentoMB.medicamento.nome}"/>
					
				<h:outputLabel value="Quantidade:" />
				<p:inputText placeholder="un./cx." size="6" value="#{MedicamentoMB.medicamento.quantidade}" /><br /><br />
				
				<h:outputLabel value="Preço:"
					style="margin-right:8px; margin-top:10px;" />
				<p:inputText placeholder="R$ 9.99" required="true" size="10" value="#{MedicamentoMB.medicamento.preco}"/><br /><br />
				
				<h:outputLabel value="Substâncias:" /><br />
				<p:inputTextarea rows="5" cols="80" required="true" value="#{MedicamentoMB.medicamento.substrancias}"/><br />
				
				<h:outputLabel value="Descricao de uso:" /><br />
				<p:inputTextarea rows="5" cols="80" value="#{MedicamentoMB.medicamento.descricaoDeUsuabilidade}"/><br /><br />
				
				<h:outputLabel value="Fornecedor:" style="line-height:10px;" />
				<p:selectOneMenu id="select" style="width:160px; margin-right:30px;" value="#{MedicamentoMB.listaMedicamentos}" >
					<f:selectItem itemLabel="  " itemValue="" />
					<f:selectItem  var="item" value="#{MedicamentoMB.listaMedicamentos}" itemLabel="#{item.nome}" itemValue="#{item}" />
				</p:selectOneMenu>
				
				
				<p:outputLabel value="Data Entrada" />
       			<p:calendar id="effect" effect="fold" pattern="yyyy-MM-dd"  value="#{MedicamentoMB.medicamento.dataEntradaUltimoEstoque}"/>
				<div style="margin: auto;">
					<p:commandButton value="Cadastrar" actionListener="#{MedicamentoMB.cadastroMedicamento}"
						oncomplete="PF('modelCadastro').hide();" />
					<p:commandButton value="Cancelar"
						onclick="PF('modelCadastro').hide();" />
				</div>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>